{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,gFAaA,MAAMC,EAAU,CACdC,SAAUC,SAASC,cAAc,oBAGnC,IAAIC,EAGFA,EADEC,OAAOC,WAAa,IACH,IAAI,EAAAR,EAAAS,eAAc,GAC5BF,OAAOC,WAAa,KAAOD,OAAOC,WAAa,KACrC,IAAI,EAAAR,EAAAS,eAAc,GAElB,IAAI,EAAAT,EAAAS,eAAc,GAGvCC,iBACIJ,EAAiBK,KAAO,EACxB,IACI,MAAMC,QAAiBN,EAAiBO,aACxCC,QAAQC,IAAIH,GACZ,MAAMI,EAAaC,EAAAC,QAAOC,KAAK,eAC/B,IAAIC,EAAW,GACfN,QAAQC,WAAWC,GACnBA,EAAWK,KAAIC,IACXV,EAASW,QAAQF,KAAIG,IACbF,IAAOE,EAAGC,MACVL,EAASM,KAAKF,GACdV,QAAQC,IAAIS,G,GAElB,IAGNtB,EAAQC,SAASwB,WAAY,EAAAC,EAAAC,mBAAkBT,E,CACjD,MAAOU,GACLhB,QAAQC,IAAIe,E,EAIpBC,GAEA,MAAMC,EAAa5B,SAASC,cAAc,mBAC1CS,QAAQC,IAAIiB,GAEZ,IAAIC,EAAiB,GAEjB,gBAAiB1B,OAAO2B,eAC1BD,EAAiBhB,EAAAC,QAAOC,KAAK,gBAG/BZ,OAAO4B,iBAAiB,QAAQ,KAC9B,IAAIC,EAAqBhC,SAASiC,iBAAiB,sBAEnD,IAAK,IAAIC,KAAKL,EACZ,IAAK,IAAIM,KAAKH,EACRE,IAAMC,EAAEC,QAAQlB,KAClBiB,EAAEE,SAAU,E,SAMDC,IAAfV,GACFA,EAAWG,iBAAiB,SAASQ,IACnC,IAAIC,EAAcX,EAAeY,QAAQ,GAAGF,EAAGG,OAAON,QAAQlB,MAK9D,IAJmB,GAAfsB,IACFA,EAAc,GAGW,UAAvBD,EAAGG,OAAOC,SAWZ,OAVAjC,QAAQC,IAAI4B,EAAGG,OAAON,QAAQlB,IACzBqB,EAAGG,OAAOL,QAMbR,EAAeP,KAAK,GAAGiB,EAAGG,OAAON,QAAQlB,MALzCW,EAAee,OACbf,EAAeY,QAAQ,GAAGF,EAAGG,OAAON,QAAQlB,MAC5C,GAMGL,EAAAC,QAAO+B,KAAK,cAAehB,E","sources":["src/favorites.js"],"sourcesContent":["import './js/axios_api';\n// import './js/categories';\n// import './js/gallery';\nimport './js/header';\nimport './js/localStorage';\n// import './js/modal-order';\n// import './js/modal-rating';\n// import './js/modal-recipes';\n// import './js/popular-recipes';\nimport './js/render-gallery'\nimport locale from './js/localStorage';\nimport { markupGalleryCard } from './js/render-gallery';\nimport { goitGlobalAPI } from './js/axios_api';\nconst refsFav = {\n  cardList: document.querySelector('.favorites-list'),\n};\n\nlet favoritRenderAPI;\n\nif (window.innerWidth < 768) {\n  favoritRenderAPI = new goitGlobalAPI(6);\n} else if (window.innerWidth > 768 && window.innerWidth < 1280) {\n  favoritRenderAPI = new goitGlobalAPI(8);\n} else {\n  favoritRenderAPI = new goitGlobalAPI(9);\n}\n\nasync function cardFavoriteRender() {\n    favoritRenderAPI.page = 1;\n    try {\n        const response = await favoritRenderAPI.getRecipes();\n        console.log(response)\n        const localArray = locale.load('galleryItem');\n        let arrayBuf = [];\n        console.log(typeof localArray);\n        localArray.map(id => {\n            response.results.map(el => {\n                if (id === el._id) {\n                    arrayBuf.push(el);\n                    console.log(el);   \n                }\n            })\n        })\n        // return console.log(strBuf)\n        refsFav.cardList.innerHTML = markupGalleryCard(arrayBuf);\n    } catch (err) {\n        console.log(err);\n    }\n}\n\ncardFavoriteRender()\n\nconst clickHeart = document.querySelector('.favorites-list');\nconsole.log(clickHeart);\n\nlet arrGalleryItem = [];\n\nif ('galleryItem' in window.localStorage) {\n  arrGalleryItem = locale.load('galleryItem');\n}\n\nwindow.addEventListener('load', () => {\n  let arrGalleryItemCart = document.querySelectorAll('.checkbox-favorite');\n\n  for (let i of arrGalleryItem) {\n    for (let j of arrGalleryItemCart) {\n      if (i === j.dataset.id) {\n        j.checked = true;\n      }\n    }\n  }\n});\n\nif (clickHeart !== undefined) {\n  clickHeart.addEventListener('click', ev => {\n    let numberIndex = arrGalleryItem.indexOf(`${ev.target.dataset.id}`);\n    if (numberIndex == -1) {\n      numberIndex = 0;\n    }\n\n    if (ev.target.nodeName === 'INPUT') {\n      console.log(ev.target.dataset.id);\n      if (!ev.target.checked) {\n        arrGalleryItem.splice(\n          arrGalleryItem.indexOf(`${ev.target.dataset.id}`),\n          1\n        );\n      } else {\n        arrGalleryItem.push(`${ev.target.dataset.id}`);\n      }\n\n      return locale.save('galleryItem', arrGalleryItem);\n    }\n  });\n}\n\n    // const options = {\n    //   totalItems: response.results.length * response.totalPages,\n    //   itemsPerPage: favoritRenderAPI.perPage,\n    //   visiblePages: 3,\n    //   page: favoritRenderAPI.page,\n    // };\n\n    // const pagination = new Pagination('pagination', options);\n\n    // pagination.on('afterMove', async event => {\n    //   favoritRenderAPI.page = event.page;\n    //   try {\n    //     const response = await favoritRenderAPI.getRecipes();\n    //     refs.galleryListEl.innerHTML = markupGalleryCard(response.results);\n    //   } catch (err) {\n    //     console.log(err);\n    //   }\n    // });\n\n\n\n"],"names":["$da7oM","parcelRequire","$5680453e957fa117$var$refsFav","cardList","document","querySelector","$5680453e957fa117$var$favoritRenderAPI","window","innerWidth","goitGlobalAPI","async","page","response","getRecipes","console","log","localArray","$31u3U","default","load","arrayBuf","map","id","results","el","_id","push","innerHTML","$34HY9","markupGalleryCard","err","$5680453e957fa117$var$cardFavoriteRender","$5680453e957fa117$var$clickHeart","$5680453e957fa117$var$arrGalleryItem","localStorage","addEventListener","arrGalleryItemCart","querySelectorAll","i","j","dataset","checked","undefined","ev","numberIndex","indexOf","target","nodeName","splice","save"],"version":3,"file":"favorites.67c0f146.js.map"}