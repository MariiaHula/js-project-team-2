{"mappings":"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","sources":["src/favorites.js"],"sourcesContent":["import './js/axios_api';\n// import './js/categories';\n// import './js/gallery';\nimport './js/header';\nimport './js/localStorage';\n// import './js/modal-order';\n// import './js/modal-rating';\n// import './js/modal-recipes';\n// import './js/popular-recipes';\nimport './js/render-gallery'\nimport locale from './js/localStorage';\nimport { markupGalleryCard } from './js/render-gallery';\nimport { goitGlobalAPI } from './js/axios_api';\nconst refsFav = {\n  cardList: document.querySelector('.favorites-list'),\n};\n\nlet favoritRenderAPI;\n\nif (window.innerWidth < 768) {\n  favoritRenderAPI = new goitGlobalAPI(6);\n} else if (window.innerWidth > 768 && window.innerWidth < 1280) {\n  favoritRenderAPI = new goitGlobalAPI(8);\n} else {\n  favoritRenderAPI = new goitGlobalAPI(9);\n}\n\nasync function cardFavoriteRender() {\n    favoritRenderAPI.page = 1;\n    try {\n        const response = await favoritRenderAPI.getRecipes();\n        console.log(response)\n        const localArray = locale.load('galleryItem');\n        let arrayBuf = [];\n        console.log(typeof localArray);\n        localArray.map(id => {\n            response.results.map(el => {\n                if (id === el._id) {\n                    arrayBuf.push(el);\n                    console.log(el);   \n                }\n            })\n        })\n        // return console.log(strBuf)\n        refsFav.cardList.innerHTML = markupGalleryCard(arrayBuf);\n    } catch (err) {\n        console.log(err);\n    }\n}\n\ncardFavoriteRender()\n\nconst clickHeart = document.querySelector('.favorites-list');\nconsole.log(clickHeart);\n\nlet arrGalleryItem = [];\n\nif ('galleryItem' in window.localStorage) {\n  arrGalleryItem = locale.load('galleryItem');\n}\n\nwindow.addEventListener('load', () => {\n  let arrGalleryItemCart = document.querySelectorAll('.checkbox-favorite');\n\n  for (let i of arrGalleryItem) {\n    for (let j of arrGalleryItemCart) {\n      if (i === j.dataset.id) {\n        j.checked = true;\n      }\n    }\n  }\n});\n\nif (clickHeart !== undefined) {\n  clickHeart.addEventListener('click', ev => {\n    let numberIndex = arrGalleryItem.indexOf(`${ev.target.dataset.id}`);\n    if (numberIndex == -1) {\n      numberIndex = 0;\n    }\n\n    if (ev.target.nodeName === 'INPUT') {\n      console.log(ev.target.dataset.id);\n      if (!ev.target.checked) {\n        arrGalleryItem.splice(\n          arrGalleryItem.indexOf(`${ev.target.dataset.id}`),\n          1\n        );\n      } else {\n        arrGalleryItem.push(`${ev.target.dataset.id}`);\n      }\n\n      return locale.save('galleryItem', arrGalleryItem);\n    }\n  });\n}\n\n    // const options = {\n    //   totalItems: response.results.length * response.totalPages,\n    //   itemsPerPage: favoritRenderAPI.perPage,\n    //   visiblePages: 3,\n    //   page: favoritRenderAPI.page,\n    // };\n\n    // const pagination = new Pagination('pagination', options);\n\n    // pagination.on('afterMove', async event => {\n    //   favoritRenderAPI.page = event.page;\n    //   try {\n    //     const response = await favoritRenderAPI.getRecipes();\n    //     refs.galleryListEl.innerHTML = markupGalleryCard(response.results);\n    //   } catch (err) {\n    //     console.log(err);\n    //   }\n    // });\n\n\n\n\n\n\n\n    import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst closeIconOrderModal = document.querySelector('.modal-order-close');\nconst windowOrderModal = document.querySelector('.modal-order-backdrop');\nconst openOrderBusket = document.querySelector('.header-busket-order');\nconst formOreder = document.querySelector('.modal-order-form');\nconst orderName = document.querySelector('#input_name');\nconst formEmail = document.querySelector('#input_email');\nconst formPhone = document.querySelector('#input_phone');\nconst formComment = document.querySelector('.user-message');\nconst orderSpinner = document.querySelector('.modal-order-loader');\nconst modalOrdBtn = document.querySelector('.modal-order-btn');\n\n\n\nopenOrderBusket.addEventListener('click', openOrderModal);\n\n\n\n\nfunction closeOrderModal(e) {\n    windowOrderModal.classList.remove('modal-order-backdrop-active'); \n\n     closeIconOrderModal.removeEventListener(\"click\", closeOrderModal);\n    windowOrderModal.removeEventListener(\"click\", closeOrderByBcg);\n    window.removeEventListener(\"keydown\", closeOrderByEsc);\n}\n\nfunction openOrderModal(e) {\n    windowOrderModal.classList.add('modal-order-backdrop-active'); \n    closeIconOrderModal.addEventListener('click', closeOrderModal);\n     windowOrderModal.addEventListener('click', closeOrderByBcg);\n    window.addEventListener('keydown', closeOrderByEsc)\n}\n\nfunction closeOrderByBcg(e) {\n    if (e.target === windowOrderModal) {\n        closeOrderModal(e);\n     }\n}\n\nfunction closeOrderByEsc(e) {\n     if (e.key === \"Escape\") {\n        closeOrderModal(e);\n    }\n}\n\n\n\nformOreder.addEventListener('submit', sendOrderForm);\n\nfunction sendOrderForm(e) {\n     \n    e.preventDefault();\n \n        const addOrderApi = new goitGlobalAPI();\n        const dataAPI = {\n            \"name\": orderName.value,\n  \"phone\": formPhone.value,\n  \"email\": formEmail.value,\n  \"comment\": formComment.value,\n    }\n\n\n     orderSpinner.style.display = 'block';\n    modalOrdBtn.classList.add('non-active-btn');\n     setTimeout(() => {\n        addOrderFn(addOrderApi, dataAPI);\n\n        // Після завершення відправки, приховати спіннер\n         orderSpinner.style.display = 'none';\n         modalOrdBtn.classList.remove('non-active-btn');\n    }, 2000);\n    \n    }\n\n    async function addOrderFn(addOrderApi, dataAPI) {\n    \n            try {\n                const data = await addOrderApi.createOrder(dataAPI);\n                // console.log(\"Order\", data);\n                Notify.success('We got your opinion!');\n   windowOrderModal.classList.remove('modal-order-backdrop-active');\n        \n            }\n            catch (err) {\n                console.log(`Error`, err);\n                Notify.failure('Oops, something wrong');\n                formOreder.reset();\n                windowOrderModal.classList.remove('modal-order-backdrop-active');\n            }\n    \n        } "],"names":["$bpxeT","parcelRequire","$f872ae3cf3d9dd7f$var$favoritRenderAPI","$f872ae3cf3d9dd7f$var$refsFav","cardList","document","querySelector","$f872ae3cf3d9dd7f$var$_cardFavoriteRender","$parcel$interopDefault","$2TvXO","mark","_callee","response","localArray","arrayBuf","page","getRecipes","_ctx","sent","console","log","$UL92Z","default","load","$l5bVx","map","id","results","el","_id","push","innerHTML","$faNkY","markupGalleryCard","t0","apply","this","arguments","window","innerWidth","$iVM7n","goitGlobalAPI","$f872ae3cf3d9dd7f$var$cardFavoriteRender","$f872ae3cf3d9dd7f$var$clickHeart","$f872ae3cf3d9dd7f$var$arrGalleryItem","localStorage","addEventListener","arrGalleryItemCart","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","i","value","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","j","dataset","checked","err","return","ev","numberIndex","indexOf","concat","target","nodeName","splice","save","$f872ae3cf3d9dd7f$var$closeIconOrderModal","$f872ae3cf3d9dd7f$var$windowOrderModal","$f872ae3cf3d9dd7f$var$openOrderBusket","$f872ae3cf3d9dd7f$var$formOreder","$f872ae3cf3d9dd7f$var$orderName","$f872ae3cf3d9dd7f$var$formEmail","$f872ae3cf3d9dd7f$var$formPhone","$f872ae3cf3d9dd7f$var$formComment","$f872ae3cf3d9dd7f$var$orderSpinner","$f872ae3cf3d9dd7f$var$modalOrdBtn","$f872ae3cf3d9dd7f$var$closeOrderModal","e","classList","remove","removeEventListener","$f872ae3cf3d9dd7f$var$closeOrderByBcg","$f872ae3cf3d9dd7f$var$closeOrderByEsc","key","$f872ae3cf3d9dd7f$var$_addOrderFn","addOrderApi","dataAPI","createOrder","$h6c0i","Notify","success","failure","reset","add","preventDefault","name","phone","email","comment","style","display","setTimeout","$f872ae3cf3d9dd7f$var$addOrderFn"],"version":3,"file":"favorites.747b91c6.js.map"}