!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o);var a=o("bpxeT"),i=o("2TvXO"),c=o("iVM7n");o("i8Q71");var s=o("UL92Z"),l=(c=o("iVM7n"),o("faNkY")),u=o("1VFfL"),d=o("h6c0i"),p=document.querySelector(".modal-order-close"),f=document.querySelector(".modal-order-backdrop"),v=document.querySelector(".header-busket-order"),m=document.querySelector(".modal-order-form"),y=document.querySelector("#input_name"),g=document.querySelector("#input_email"),b=document.querySelector("#input_phone"),k=document.querySelector(".user-message"),h=document.querySelector(".modal-order-loader"),w=document.querySelector(".modal-order-btn");function L(e){f.classList.remove("modal-order-backdrop-active"),p.removeEventListener("click",L),f.removeEventListener("click",x),window.removeEventListener("keydown",q)}function x(e){e.target===f&&L()}function q(e){"Escape"===e.key&&L()}function S(){return(S=e(a)(e(i).mark((function t(r,n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.createOrder(n);case 3:e.sent,d.Notify.success("We got your opinion!"),f.classList.remove("modal-order-backdrop-active"),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error",e.t0),d.Notify.failure("Oops, something wrong"),m.reset(),f.classList.remove("modal-order-backdrop-active");case 14:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}v.addEventListener("click",(function(e){f.classList.add("modal-order-backdrop-active"),p.addEventListener("click",L),f.addEventListener("click",x),window.addEventListener("keydown",q)})),m.addEventListener("submit",(function(e){e.preventDefault();var t=new(0,c.goitGlobalAPI),r={name:y.value,phone:b.value,email:g.value,comment:k.value};h.style.display="block",w.classList.add("non-active-btn"),setTimeout((function(){!function(e,t){S.apply(this,arguments)}(t,r),h.style.display="none",w.classList.remove("non-active-btn")}),2e3)}));var E=document.querySelector(".favorites-list"),A=document.querySelector(".js-favorites-wrapper"),T=document.querySelector(".js-bloked"),_=new(0,c.goitGlobalAPI)(288);function M(){return M=e(a)(e(i).mark((function t(){var r,n,o,c,d;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.getRecipes();case 3:if(r=t.sent,n=s.default.load("favorites-recipes"),o=r.results,Array.isArray(n)?o=o.filter((function(e){return n.includes(String(e._id))})):(o=[],T.classList.remove("is-hidden")),c=O(o),A.innerHTML=c,E.innerHTML=(0,l.markupGalleryCard)(o),""!==c){t.next=12;break}return t.abrupt("return");case 12:T.classList.add("is-hidden"),(0,l.checkFavorites)(".favorites-list"),d={totalItems:r.results.length*r.totalPages,itemsPerPage:_.perPage,visiblePages:3,page:_.page},new(e(u))("pagination",d).on("afterMove",function(){var t=e(a)(e(i).mark((function t(r){var n,o,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.page=r.page,e.prev=1,e.next=4,_.getRecipes();case 4:n=e.sent,o=s.default.load("favorites-recipes"),a=n.results,Array.isArray(o)&&(a=a.filter((function(e){return o.includes(String(e._id))}))),E.innerHTML=(0,l.markupGalleryCard)(a),(0,l.checkFavorites)(".favorites-list"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])}))),M.apply(this,arguments)}function O(e){var t=["All categories"];return Array.isArray(e)&&e.length>0?(t=t.concat(e.map((function(e){return e.category})).filter((function(e,t,r){return r.indexOf(e)===t})))).map((function(e){return'\n        <li>\n        <button class="favorites-category-btn" type="button" data-category-name="'.concat(e,'">').concat(e,"</button>\n        </li>")})).join(""):""}!function(){M.apply(this,arguments)}()}();
//# sourceMappingURL=favorites.8bf205e7.js.map
