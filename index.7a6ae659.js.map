{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,sHAuDIC,E,aA5CEC,G,aAAU,CACdC,SAAUC,SAASC,cAAc,qBAG7BC,EAAaF,SAASC,cAAc,iBACtCE,EAAiB,G,SAiDNC,I,OAAAA,EAAfC,EAAAV,EAAA,CAAAU,EAAAC,GAAAC,MAAA,SAAAC,I,IAGcC,EAEAC,E,yEAJVb,EAAiBc,KAAO,E,kBAEGd,EAAiBe,a,OAAlCH,EAAQI,EAAAC,KACdC,QAAQC,IAAIP,GACNC,EAAaO,OAAOC,aAAaC,QAAQ,eAAeC,MAAM,KACzDV,EAAWW,KAAI,SAAAC,GACtB,OAAOb,EAASc,QAAQF,KAAI,SAAAG,GACpBF,IAAOE,EAAGF,KACVxB,EAAQC,SAAS0B,WAAY,EAAAC,EAAAC,mBAAkBH,G,yDAK3DT,QAAQC,IAAGH,EAAAe,I,2DAdcC,MAAAC,KAAAC,U,CA/C7B,gBAAiBd,OAAOC,eAC1Bf,EAAiBc,OAAOC,aAAaC,QAAQ,eAAeC,MAAM,MAGpEH,OAAOe,iBAAiB,QAAQ,WAC9B,IAAIC,EAAqBjC,SAASkC,iBAAiB,sBAEnD/B,EAAekB,KAAI,SAAAG,G,IACZW,GAAK,EAALC,GAAK,EAALC,OAAKC,E,IAAV,QAAKC,EAAAC,EAASP,EAAkBQ,OAAAC,cAA3BP,GAAAI,EAAAC,EAAKG,QAAAC,MAALT,GAAK,EAAwB,CAA7B,IAAIU,EAAJN,EAAKO,MACR,GAAItB,IAAOqB,EAAEE,QAAQC,OACnB,OAAQH,EAAEI,SAAU,C,WAFnBb,GAAK,EAALC,EAAKa,C,aAALf,GAAK,MAALK,EAAKW,QAALX,EAAKW,Q,YAALf,E,MAAAC,C,SAQTnC,EAAW8B,iBAAiB,SAAS,SAAAoB,GACnC,IAAIC,EAAclD,EAAemD,QAAQ,GAA4BC,OAAzBH,EAAGI,OAAOT,QAAQC,SAM9D,IAJmB,GAAfK,IACFA,EAAc,GAGW,UAAvBD,EAAGI,OAAOC,SAUZ,OATKL,EAAGI,OAAOP,QAMb9C,EAAeuD,KAAK,GAA4BH,OAAzBH,EAAGI,OAAOT,QAAQC,SALzC7C,EAAewD,OACbxD,EAAemD,QAAQ,GAA4BC,OAAzBH,EAAGI,OAAOT,QAAQC,SAC5C,GAMG/B,OAAOC,aAAa0C,QAAQ,cAAezD,E,IAOpDN,EADEoB,OAAO4C,WAAa,IACH,IAAI,EAAAC,EAAAC,eAAc,GAC5B9C,OAAO4C,WAAa,KAAO5C,OAAO4C,WAAa,KACrC,IAAI,EAAAC,EAAAC,eAAc,GAElB,IAAI,EAAAD,EAAAC,eAAc,G,WAGxB3D,EAAkByB,MAAAC,KAAAC,U,CAwCjCiC,GAEAjD,QAAQC,IAAI,K","sources":["src/favorites.js"],"sourcesContent":["import './js/axios_api';\nimport './js/categories';\nimport './js/gallery';\nimport './js/header';\nimport './js/localStorage';\nimport './js/modal-order';\nimport './js/modal-rating';\nimport './js/modal-recipes';\nimport './js/popular-recipes';\nimport { markupGalleryCard } from './js/render-gallery';\nimport { goitGlobalAPI } from './js/axios_api';\nconst refsFav = {\n  cardList: document.querySelector('.favorites-list'),\n};\n\nconst clickHeart = document.querySelector('.gallery-list');\nlet arrGalleryItem = [];\n\nif ('galleryItem' in window.localStorage) {\n  arrGalleryItem = window.localStorage.getItem('galleryItem').split(',');\n}\n\nwindow.addEventListener('load', () => {\n  let arrGalleryItemCart = document.querySelectorAll('.checkbox-favorite');\n\n  arrGalleryItem.map(el => {\n    for (let i of arrGalleryItemCart) {\n      if (el === i.dataset.idName) {\n        return (i.checked = true);\n      }\n    }\n  });\n});\n\nclickHeart.addEventListener('click', ev => {\n  let numberIndex = arrGalleryItem.indexOf(`${ev.target.dataset.idName}`);\n\n  if (numberIndex == -1) {\n    numberIndex = 0;\n  }\n\n  if (ev.target.nodeName === 'INPUT') {\n    if (!ev.target.checked) {\n      arrGalleryItem.splice(\n        arrGalleryItem.indexOf(`${ev.target.dataset.idName}`),\n        1\n      );\n    } else {\n      arrGalleryItem.push(`${ev.target.dataset.idName}`);\n    }\n\n    return window.localStorage.setItem('galleryItem', arrGalleryItem);\n  }\n});\n\nlet favoritRenderAPI;\n\nif (window.innerWidth < 768) {\n  favoritRenderAPI = new goitGlobalAPI(6);\n} else if (window.innerWidth > 768 && window.innerWidth < 1280) {\n  favoritRenderAPI = new goitGlobalAPI(8);\n} else {\n  favoritRenderAPI = new goitGlobalAPI(9);\n}\n\nasync function cardFavoriteRender() {\n    favoritRenderAPI.page = 1;\n    try {\n        const response = await favoritRenderAPI.getRecipes();\n        console.log(response)\n        const localArray = window.localStorage.getItem('galleryItem').split(',');\n        const xz = localArray.map(id => {\n            return response.results.map(el => {\n                if (id === el.id) {\n                    refsFav.cardList.innerHTML = markupGalleryCard(el);\n                }\n            })\n        })\n    } catch (err) {\n        console.log(err);\n    }\n}\n\n//     const options = {\n//       totalItems: response.results.length * response.totalPages,\n//       itemsPerPage: favoritRenderAPI.perPage,\n//       visiblePages: 3,\n//       page: favoritRenderAPI.page,\n//     };\n\n//     const pagination = new Pagination('pagination', options);\n\n//     pagination.on('afterMove', async event => {\n//       favoritRenderAPI.page = event.page;\n//       try {\n//         const response = await favoritRenderAPI.getRecipes();\n//         refs.galleryListEl.innerHTML = markupGalleryCard(response.results);\n//       } catch (err) {\n//         console.log(err);\n//       }\n//     });\n//   } catch (err) {\n//     console.log(err);\n//   }\n// }\ncardFavoriteRender()\n\nconsole.log(1223);\n"],"names":["$bpxeT","parcelRequire","$f872ae3cf3d9dd7f$var$favoritRenderAPI","$f872ae3cf3d9dd7f$var$refsFav","cardList","document","querySelector","$f872ae3cf3d9dd7f$var$clickHeart","$f872ae3cf3d9dd7f$var$arrGalleryItem","$f872ae3cf3d9dd7f$var$_cardFavoriteRender","$parcel$interopDefault","$2TvXO","mark","_callee","response","localArray","page","getRecipes","_ctx","sent","console","log","window","localStorage","getItem","split","map","id","results","el","innerHTML","$faNkY","markupGalleryCard","t0","apply","this","arguments","addEventListener","arrGalleryItemCart","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","i","value","dataset","idName","checked","err","return","ev","numberIndex","indexOf","concat","target","nodeName","push","splice","setItem","innerWidth","$iVM7n","goitGlobalAPI","$f872ae3cf3d9dd7f$var$cardFavoriteRender"],"version":3,"file":"index.7a6ae659.js.map"}