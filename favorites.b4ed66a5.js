function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a);var n=a("da7oM");a("bUb57");var i=a("31u3U"),l=(n=a("da7oM"),a("34HY9")),c=a("2H64r");a("kV37o");var s=a("fb9GJ"),d=a("iQIUW");const u=document.querySelector(".modal-order-close"),f=document.querySelector(".modal-order-backdrop"),v=document.querySelector(".header-busket-order"),y=document.querySelector(".modal-order-form"),m=document.querySelector("#input_name"),p=document.querySelector("#input_email"),g=document.querySelector("#input_phone"),b=document.querySelector(".user-message"),k=document.querySelector(".modal-order-loader"),L=document.querySelector(".modal-order-btn");function h(e){f.classList.remove("modal-order-backdrop-active"),u.removeEventListener("click",h),f.removeEventListener("click",w),window.removeEventListener("keydown",q)}function w(e){e.target===f&&h()}function q(e){"Escape"===e.key&&h()}v.addEventListener("click",(function(e){f.classList.add("modal-order-backdrop-active"),u.addEventListener("click",h),f.addEventListener("click",w),window.addEventListener("keydown",q)})),y.addEventListener("submit",(function(e){e.preventDefault();const t=new(0,n.goitGlobalAPI),r={name:m.value,phone:g.value,email:p.value,comment:b.value};k.style.display="block",L.classList.add("non-active-btn"),setTimeout((()=>{!async function(e,t){try{await e.createOrder(t);d.Notify.success("We got your opinion!"),f.classList.remove("modal-order-backdrop-active")}catch(e){console.log("Error",e),d.Notify.failure("Oops, something wrong"),y.reset(),f.classList.remove("modal-order-backdrop-active")}}(t,r),k.style.display="none",L.classList.remove("non-active-btn")}),2e3)}));const S=document.querySelector(".favorites-list"),E=document.querySelector(".js-favorites-wrapper"),M=document.querySelector(".js-bloked");let A,T=new(0,n.goitGlobalAPI)(288);!async function(){try{const t=await T.getRecipes();let r=i.default.load("favorites-recipes"),o=t.results;Array.isArray(r)?o=o.filter((e=>r.includes(String(e._id)))):(o=[],M.classList.remove("is-hidden"));const a=function(e){let t=["All categories"];if(!(Array.isArray(e)&&e.length>0))return"";t=t.concat(e.map((e=>e.category)).filter(((e,t,r)=>r.indexOf(e)===t)));return t.map((e=>`\n        <li>\n        <button class="favorites-btn" type="button" data-category="${e}">${e}</button>\n        </li>`)).join("")}(o);if(E.innerHTML=a,S.innerHTML=(0,l.markupGalleryCard)(o),""===a)return void d.Notify.failure("There is no such recipe in the favorites");M.classList.add("is-hidden"),(0,l.checkFavorites)(".favorites-list");const n=E.children;for(li of n){li.children[0].addEventListener("click",(e=>{let t=e.target;if("All categories"!==t.dataset.category){let e=o.filter((e=>e.category===t.dataset.category));S.innerHTML=(0,l.markupGalleryCard)(e)}else S.innerHTML=(0,l.markupGalleryCard)(o);(0,l.checkFavorites)(".favorites-list")}))}const c={totalItems:t.results.length*t.totalPages,itemsPerPage:T.perPage,visiblePages:3,page:T.page};new(e(s))("pagination",c).on("afterMove",(async e=>{T.page=e.page;try{const e=await T.getRecipes();let t=i.default.load("favorites-recipes"),r=e.results;Array.isArray(t)&&(r=r.filter((e=>t.includes(String(e._id))))),S.innerHTML=(0,l.markupGalleryCard)(r),(0,l.checkFavorites)(".favorites-list")}catch(e){console.log(e)}}))}catch(e){console.log(e)}A=document.querySelector(".favorites-list"),A.addEventListener("click",c.openModalGaleryRecipesPre)}();
//# sourceMappingURL=favorites.b4ed66a5.js.map
