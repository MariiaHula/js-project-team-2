function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=n);var a=n("da7oM");n("bUb57");var i=n("31u3U"),l=(a=n("da7oM"),n("34HY9")),c=n("fb9GJ"),s=n("iQIUW");const d=document.querySelector(".modal-order-close"),u=document.querySelector(".modal-order-backdrop"),f=document.querySelector(".header-busket-order"),m=document.querySelector(".modal-order-form"),y=document.querySelector("#input_name"),v=document.querySelector("#input_email"),p=document.querySelector("#input_phone"),g=document.querySelector(".user-message"),b=document.querySelector(".modal-order-loader"),k=document.querySelector(".modal-order-btn");function L(e){u.classList.remove("modal-order-backdrop-active"),d.removeEventListener("click",L),u.removeEventListener("click",h),window.removeEventListener("keydown",w)}function h(e){e.target===u&&L()}function w(e){"Escape"===e.key&&L()}f.addEventListener("click",(function(e){u.classList.add("modal-order-backdrop-active"),d.addEventListener("click",L),u.addEventListener("click",h),window.addEventListener("keydown",w)})),m.addEventListener("submit",(function(e){e.preventDefault();const t=new(0,a.goitGlobalAPI),r={name:y.value,phone:p.value,email:v.value,comment:g.value};b.style.display="block",k.classList.add("non-active-btn"),setTimeout((()=>{!async function(e,t){try{await e.createOrder(t);s.Notify.success("We got your opinion!"),u.classList.remove("modal-order-backdrop-active")}catch(e){console.log("Error",e),s.Notify.failure("Oops, something wrong"),m.reset(),u.classList.remove("modal-order-backdrop-active")}}(t,r),b.style.display="none",k.classList.remove("non-active-btn")}),2e3)}));const q=document.querySelector(".favorites-list"),S=document.querySelector(".js-favorites-wrapper"),E=document.querySelector(".js-bloked");let A=new(0,a.goitGlobalAPI)(288);!async function(){try{const t=await A.getRecipes();let r=i.default.load("favorites-recipes"),o=t.results;Array.isArray(r)?o=o.filter((e=>r.includes(String(e._id)))):(o=[],E.classList.remove("is-hidden"));const n=function(e){let t=["All categories"];if(!(Array.isArray(e)&&e.length>0))return"";t=t.concat(e.map((e=>e.category)).filter(((e,t,r)=>r.indexOf(e)===t)));return t.map((e=>`\n        <li>\n        <button class="favorites-btn" type="button" data-category="${e}">${e}</button>\n        </li>`)).join("")}(o);if(S.innerHTML=n,q.innerHTML=(0,l.markupGalleryCard)(o),""===n)return void s.Notify.failure("There is no such recipe in the favorites");E.classList.add("is-hidden"),(0,l.checkFavorites)(".favorites-list");const a=S.children;for(li of a){li.children[0].addEventListener("click",(e=>{let t=e.target;if("All categories"!==t.dataset.category){let e=o.filter((e=>{e.category,t.dataset.category}));q.innerHTML=(0,l.markupGalleryCard)(e)}else q.innerHTML=(0,l.markupGalleryCard)(o);(0,l.checkFavorites)(".favorites-list")}))}const d={totalItems:t.results.length*t.totalPages,itemsPerPage:A.perPage,visiblePages:3,page:A.page};new(e(c))("pagination",d).on("afterMove",(async e=>{A.page=e.page;try{const e=await A.getRecipes();let t=i.default.load("favorites-recipes"),r=e.results;Array.isArray(t)&&(r=r.filter((e=>t.includes(String(e._id))))),q.innerHTML=(0,l.markupGalleryCard)(r),(0,l.checkFavorites)(".favorites-list")}catch(e){console.log(e)}}))}catch(e){console.log(e)}}();
//# sourceMappingURL=favorites.13ccd3aa.js.map
