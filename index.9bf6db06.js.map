{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,sHAWA,MAAMC,EAAU,CACdC,SAAUC,SAASC,cAAc,oBAG7BC,EAAaF,SAASC,cAAc,iBAC1C,IAuCIE,EAvCAC,EAAiB,GAEjB,gBAAiBC,OAAOC,eAC1BF,EAAiBC,OAAOC,aAAaC,QAAQ,eAAeC,MAAM,MAGpEH,OAAOI,iBAAiB,QAAQ,KAC9B,IAAIC,EAAqBV,SAASW,iBAAiB,sBAEnDP,EAAeQ,KAAIC,IACjB,IAAK,IAAIC,KAAKJ,EACZ,GAAIG,IAAOC,EAAEC,QAAQC,OACnB,OAAQF,EAAEG,SAAU,C,GAGxB,IAGJf,EAAWO,iBAAiB,SAASS,IACnC,IAAIC,EAAcf,EAAegB,QAAQ,GAAGF,EAAGG,OAAON,QAAQC,UAM9D,IAJmB,GAAfG,IACFA,EAAc,GAGW,UAAvBD,EAAGG,OAAOC,SAUZ,OATKJ,EAAGG,OAAOJ,QAMbb,EAAemB,KAAK,GAAGL,EAAGG,OAAON,QAAQC,UALzCZ,EAAeoB,OACbpB,EAAegB,QAAQ,GAAGF,EAAGG,OAAON,QAAQC,UAC5C,GAMGX,OAAOC,aAAamB,QAAQ,cAAerB,E,IAOpDD,EADEE,OAAOqB,WAAa,IACH,IAAI,EAAA9B,EAAA+B,eAAc,GAC5BtB,OAAOqB,WAAa,KAAOrB,OAAOqB,WAAa,KACrC,IAAI,EAAA9B,EAAA+B,eAAc,GAElB,IAAI,EAAA/B,EAAA+B,eAAc,GAGvCC,iBACIzB,EAAiB0B,KAAO,EACxB,IACI,MAAMC,QAAiB3B,EAAiB4B,aACxCC,QAAQC,IAAIH,GACOzB,OAAOC,aAAaC,QAAQ,eAAeC,MAAM,KAC9CI,KAAIsB,GACfJ,EAASK,QAAQvB,KAAIC,IACpBqB,IAAOrB,EAAGqB,KACVpC,EAAQC,SAASqC,WAAY,EAAAC,EAAAC,mBAAkBzB,GAAG,K,CAIhE,MAAO0B,GACLP,QAAQC,IAAIM,E,EA0BpBC,GAEAR,QAAQC,IAAI","sources":["src/favorites.js"],"sourcesContent":["import './js/axios_api';\nimport './js/categories';\nimport './js/gallery';\nimport './js/header';\nimport './js/localStorage';\nimport './js/modal-order';\nimport './js/modal-rating';\nimport './js/modal-recipes';\nimport './js/popular-recipes';\nimport { markupGalleryCard } from './js/render-gallery';\nimport { goitGlobalAPI } from './js/axios_api';\nconst refsFav = {\n  cardList: document.querySelector('.favorites-list'),\n};\n\nconst clickHeart = document.querySelector('.gallery-list');\nlet arrGalleryItem = [];\n\nif ('galleryItem' in window.localStorage) {\n  arrGalleryItem = window.localStorage.getItem('galleryItem').split(',');\n}\n\nwindow.addEventListener('load', () => {\n  let arrGalleryItemCart = document.querySelectorAll('.checkbox-favorite');\n\n  arrGalleryItem.map(el => {\n    for (let i of arrGalleryItemCart) {\n      if (el === i.dataset.idName) {\n        return (i.checked = true);\n      }\n    }\n  });\n});\n\nclickHeart.addEventListener('click', ev => {\n  let numberIndex = arrGalleryItem.indexOf(`${ev.target.dataset.idName}`);\n\n  if (numberIndex == -1) {\n    numberIndex = 0;\n  }\n\n  if (ev.target.nodeName === 'INPUT') {\n    if (!ev.target.checked) {\n      arrGalleryItem.splice(\n        arrGalleryItem.indexOf(`${ev.target.dataset.idName}`),\n        1\n      );\n    } else {\n      arrGalleryItem.push(`${ev.target.dataset.idName}`);\n    }\n\n    return window.localStorage.setItem('galleryItem', arrGalleryItem);\n  }\n});\n\nlet favoritRenderAPI;\n\nif (window.innerWidth < 768) {\n  favoritRenderAPI = new goitGlobalAPI(6);\n} else if (window.innerWidth > 768 && window.innerWidth < 1280) {\n  favoritRenderAPI = new goitGlobalAPI(8);\n} else {\n  favoritRenderAPI = new goitGlobalAPI(9);\n}\n\nasync function cardFavoriteRender() {\n    favoritRenderAPI.page = 1;\n    try {\n        const response = await favoritRenderAPI.getRecipes();\n        console.log(response)\n        const localArray = window.localStorage.getItem('galleryItem').split(',');\n        const xz = localArray.map(id => {\n            return response.results.map(el => {\n                if (id === el.id) {\n                    refsFav.cardList.innerHTML = markupGalleryCard(el);\n                }\n            })\n        })\n    } catch (err) {\n        console.log(err);\n    }\n}\n\n//     const options = {\n//       totalItems: response.results.length * response.totalPages,\n//       itemsPerPage: favoritRenderAPI.perPage,\n//       visiblePages: 3,\n//       page: favoritRenderAPI.page,\n//     };\n\n//     const pagination = new Pagination('pagination', options);\n\n//     pagination.on('afterMove', async event => {\n//       favoritRenderAPI.page = event.page;\n//       try {\n//         const response = await favoritRenderAPI.getRecipes();\n//         refs.galleryListEl.innerHTML = markupGalleryCard(response.results);\n//       } catch (err) {\n//         console.log(err);\n//       }\n//     });\n//   } catch (err) {\n//     console.log(err);\n//   }\n// }\ncardFavoriteRender()\n\nconsole.log(1223);\n"],"names":["$da7oM","parcelRequire","$5680453e957fa117$var$refsFav","cardList","document","querySelector","$5680453e957fa117$var$clickHeart","$5680453e957fa117$var$favoritRenderAPI","$5680453e957fa117$var$arrGalleryItem","window","localStorage","getItem","split","addEventListener","arrGalleryItemCart","querySelectorAll","map","el","i","dataset","idName","checked","ev","numberIndex","indexOf","target","nodeName","push","splice","setItem","innerWidth","goitGlobalAPI","async","page","response","getRecipes","console","log","id","results","innerHTML","$34HY9","markupGalleryCard","err","$5680453e957fa117$var$cardFavoriteRender"],"version":3,"file":"index.9bf6db06.js.map"}